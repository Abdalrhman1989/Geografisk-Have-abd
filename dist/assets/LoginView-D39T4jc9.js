import{d as w,am as d,ao as v,ap as u,aq as y,_ as L,r as g,w as M,c as p,i as s,U as m,a0 as h,Q as I,t as b,J as S,o as _,p as V,n as E}from"./index-Dc6UreIG.js";const A=w("auth",{state:()=>({errorMessage:"",isLoggedIn:!1}),actions:{async login(e,a){const n=d();try{const t=(await v(n,e,a)).user;console.log("User logged in:",t),this.isLoggedIn=!0,u.push("/admin")}catch(o){this.errorMessage=o.message,console.error("Login error:",o.message)}},async logout(){const e=d();try{await y(e),this.isLoggedIn=!1,u.push("/")}catch(a){console.error("Logout error:",a.message)}},clearErrorMessage(){this.errorMessage=""}}}),i=e=>(V("data-v-2657f86e"),e=e(),E(),e),U={class:"login-form-container"},k=i(()=>s("h2",{class:"form-title"},"Admin Login",-1)),q={class:"input-group"},B=i(()=>s("label",{for:"email"},"Email:",-1)),C={class:"input-group"},x=i(()=>s("label",{for:"password"},"Password:",-1)),D=i(()=>s("button",{type:"submit",class:"login-button"},"Login",-1)),N={key:0,class:"error-message"},P={__name:"LoginView",setup(e){const{login:a,clearErrorMessage:n}=A(),o=g(""),t=g(""),f=async()=>{await a(o.value,t.value)};return M([o,t],()=>{n()}),(c,r)=>(_(),p("div",U,[k,s("form",{onSubmit:I(f,["prevent"]),class:"login-form"},[s("div",q,[B,m(s("input",{id:"email",type:"email","onUpdate:modelValue":r[0]||(r[0]=l=>o.value=l),required:""},null,512),[[h,o.value]])]),s("div",C,[x,m(s("input",{id:"password",type:"password","onUpdate:modelValue":r[1]||(r[1]=l=>t.value=l),required:""},null,512),[[h,t.value]])]),D],32),c.errorMessage?(_(),p("p",N,b(c.errorMessage),1)):S("",!0)]))}},J=L(P,[["__scopeId","data-v-2657f86e"]]);export{J as default};
